(function(exports){"use strict";

var t,n,e,r,o,i,s,u,a,c,f,p,l,d,h,m,y,_,g,E,F,T,w,R,b,A,O,S,v,P,U,I,H,x,W,C,M,j,q,N,D,G,k,L,z,B,Y,Z,X,J="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&"function"==typeof require;let K;if(J)try{K=require("path")}catch(t){}function Q(t){throw new Error("wasm abort"+(t?": "+(t.stack||t):""))}"undefined"!=typeof module&&(l=module,module=void 0),(d={preRun:[],postRun:[],print:console.log.bind(console),printErr:console.error.bind(console)}).ready=new Promise(l=>{d.onRuntimeInitialized=(()=>{d.___wasm_call_ctors=t=d.asm.g,d._polygon_area=n=d.asm.h,d._polygon_union=e=d.asm.j,d._polygon_difference=r=d.asm.k,d._polygon_intersect=o=d.asm.l,d._create_linear_ring=i=d.asm.m,d._push_linear_ring=s=d.asm.n,d._delete_linear_ring=u=d.asm.o,d._create_polygon=a=d.asm.p,d._push_polygon=c=d.asm.q,d._delete_polygon=f=d.asm.r,d._create_multi_polygon=d.asm.s,d._push_multi_polygon=d.asm.t,d._delete_multi_polygon=d.asm.u,d._malloc=p=d.asm.v;let h=exports;"function"==typeof define&&define("astro",h),l(h)})}),J&&K&&(d.locateFile=function(t){return K.join(__dirname,t)});const V=d.print;let $=d.printErr;for(m in h={},d=void 0!==d?d:{})d.hasOwnProperty(m)&&(h[m]=d[m]);for(m in y=[],_=!1,g=!1,!1,!1,_="object"==typeof window,g="function"==typeof importScripts,E="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,F=!_&&!E&&!g,T="",E?(T=g?require("path").dirname(T)+"/":__dirname+"/",w=function(t,n){return A||(A=require("fs")),O||(O=require("path")),t=O.normalize(t),A.readFileSync(t,n?null:"utf8")},b=function(t){var n=w(t,!0);return n.buffer||(n=new Uint8Array(n)),n.buffer,n},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),y=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=d),d.inspect=function(){return"[Emscripten Module object]"}):F?("undefined"!=typeof read&&(w=function(t){return read(t)}),b=function(t){return"function"==typeof readbuffer?new Uint8Array(readbuffer(t)):read(t,"binary")},"undefined"!=typeof scriptArgs?y=scriptArgs:"undefined"!=typeof arguments&&(y=arguments),void 0!==V&&("undefined"==typeof console&&(console={}),console.log=V,console.warn=console.error="undefined"!=typeof printErr?printErr:V)):(_||g)&&(g?T=self.location.href:"undefined"!=typeof document&&document.currentScript&&(T=document.currentScript.src),T=0!==T.indexOf("blob:")?T.substr(0,T.lastIndexOf("/")+1):"",w=function(t){var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(null),n.responseText},g&&(b=function(t){var n=new XMLHttpRequest;return n.open("GET",t,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),R=function(t,n,e){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?n(r.response):e()},r.onerror=e,r.send(null)}),h)h.hasOwnProperty(m)&&(d[m]=h[m]);function tt(t){U=t,d.HEAP8=I=new Int8Array(t),d.HEAP16=new Int16Array(t),d.HEAP32=x=new Int32Array(t),d.HEAPU8=H=new Uint8Array(t),d.HEAPU16=new Uint16Array(t),d.HEAPU32=new Uint32Array(t),d.HEAPF32=new Float32Array(t),d.HEAPF64=new Float64Array(t)}function nt(t,n){return String.prototype.startsWith?t.startsWith(n):0===t.indexOf(n)}function et(t){return nt(t,k)}function rt(t){return nt(t,L)}function ot(t){try{if(t==z&&S)return new Uint8Array(S);if(b)return b(t);throw"both async and sync fetching of the wasm failed"}catch(t){Q(t)}}function it(t){for(var n,e;t.length>0;)"function"!=typeof(n=t.shift())?"number"==typeof(e=n.func)?void 0===n.arg?W.get(e)():W.get(e)(n.arg):e(void 0===n.arg?null:n.arg):n(d)}function st(t){try{return v.grow(t-U.byteLength+65535>>>16),tt(v.buffer),1}catch(t){}}function ut(t){function n(){Z||(Z=!0,d.calledRun=!0,P||(it(M),it(j),d.onRuntimeInitialized&&d.onRuntimeInitialized(),function(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)t=d.postRun.shift(),q.unshift(t);var t;it(q)}()))}t=t||y,N>0||(function(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)t=d.preRun.shift(),C.unshift(t);var t;it(C)}(),N>0||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),n()},1)):n()))}if(h=null,d.arguments&&(y=d.arguments),d.thisProgram&&d.thisProgram,d.quit&&d.quit,d.wasmBinary&&(S=d.wasmBinary),d.noExitRuntime,"object"!=typeof WebAssembly&&Q("no native wasm support detected"),P=!1,d.INITIAL_MEMORY,C=[],j=[],q=[],(M=[]).push({func:function(){t()}}),N=0,D=null,G=null,d.preloadedImages={},d.preloadedAudios={},k="data:application/octet-stream;base64,",L="file://",et(z="astro.wasm")||(X=z,z=d.locateFile?d.locateFile(X,T):T+X),B={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16},Y={e:function(t){return p(t+B.SIZE)+B.SIZE},d:function(t,n,e){throw new function(t){this.excPtr=t,this.ptr=t-B.SIZE,this.set_type=function(t){x[this.ptr+B.TYPE_OFFSET>>2]=t},this.get_type=function(){return x[this.ptr+B.TYPE_OFFSET>>2]},this.set_destructor=function(t){x[this.ptr+B.DESTRUCTOR_OFFSET>>2]=t},this.get_destructor=function(){return x[this.ptr+B.DESTRUCTOR_OFFSET>>2]},this.set_refcount=function(t){x[this.ptr+B.REFCOUNT_OFFSET>>2]=t},this.set_caught=function(t){t=t?1:0,I[this.ptr+B.CAUGHT_OFFSET>>0]=t},this.get_caught=function(){return 0!=I[this.ptr+B.CAUGHT_OFFSET>>0]},this.set_rethrown=function(t){t=t?1:0,I[this.ptr+B.RETHROWN_OFFSET>>0]=t},this.get_rethrown=function(){return 0!=I[this.ptr+B.RETHROWN_OFFSET>>0]},this.init=function(t,n){this.set_type(t),this.set_destructor(n),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var t=x[this.ptr+B.REFCOUNT_OFFSET>>2];x[this.ptr+B.REFCOUNT_OFFSET>>2]=t+1},this.release_ref=function(){var t=x[this.ptr+B.REFCOUNT_OFFSET>>2];return x[this.ptr+B.REFCOUNT_OFFSET>>2]=t-1,1===t}}(t).init(n,e),t},a:function(){Q()},b:function(t,n,e){H.copyWithin(t,n,n+e)},c:function(t){var n,e,r,o,i=H.length;if(t>2147483648)return!1;for(n=1;n<=4;n*=2)if(e=i*(1+.2/n),e=Math.min(e,t+100663296),st(Math.min(2147483648,((r=Math.max(t,e))%(o=65536)>0&&(r+=o-r%o),r))))return!0;return!1}},function(){var t={a:Y};function n(t,n){var e=t.exports;d.asm=e,tt((v=d.asm.f).buffer),W=d.asm.i,function(t){if(N--,d.monitorRunDependencies&&d.monitorRunDependencies(N),0==N&&(null!==D&&(clearInterval(D),D=null),G)){var n=G;G=null,n()}}()}function e(t){n(t.instance)}function r(n){return function(){if(!S&&(_||g)){if("function"==typeof fetch&&!rt(z))return fetch(z,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load wasm binary file at '"+z+"'";return t.arrayBuffer()}).catch(function(){return ot(z)});if(R)return new Promise(function(t,n){R(z,function(n){t(new Uint8Array(n))},n)})}return Promise.resolve().then(function(){return ot(z)})}().then(function(n){return WebAssembly.instantiate(n,t)}).then(n,function(t){$("failed to asynchronously prepare wasm: "+t),Q(t)})}if(N++,d.monitorRunDependencies&&d.monitorRunDependencies(N),d.instantiateWasm)try{return d.instantiateWasm(t,n)}catch(t){return $("Module.instantiateWasm callback failed with error: "+t),!1}S||"function"!=typeof WebAssembly.instantiateStreaming||et(z)||rt(z)||"function"!=typeof fetch?r(e):fetch(z,{credentials:"same-origin"}).then(function(n){return WebAssembly.instantiateStreaming(n,t).then(e,function(t){return $("wasm streaming compile failed: "+t),$("falling back to ArrayBuffer instantiation"),r(e)})})}(),t=d.___wasm_call_ctors=function(){return(t=d.___wasm_call_ctors=d.asm.g).apply(null,arguments)},G=function t(){Z||ut(),Z||(G=t)},d.run=ut,d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();ut(),d.inspect=(()=>"[asm]"),void 0!==l&&(module=l,l=void 0),Object.defineProperty(exports,"__esModule",{value:!0});const at=d.ready;class Astro{static fromPtr(t){const n=Object.create(Astro.prototype);return n.ptr=t,n}constructor(t){const n=t.geometry.coordinates;let e=0;const r=a();for(;e<n.length;e++){const t=n[e],o=i();let a=0;for(;a<t.length;a++){const n=t[a];s(o,n[0],n[1])}c(r,o),u(o)}this.ptr=r}destroy(){f(this.ptr)}area(){return n(this.ptr)}union(t){return Astro.fromPtr(e(this.ptr,t.ptr))}difference(t){return Astro.fromPtr(r(this.ptr,t.ptr))}intersect(t){return Astro.fromPtr(o(this.ptr,t.ptr))}}exports.ready=at,exports.getModule=(()=>d),exports.Astro=Astro;})(typeof exports!='undefined'?exports:this["astro"]={})
//# sourceMappingURL=astro.js.map
